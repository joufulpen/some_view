"use strict";function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}function _arrayWithHoles(a){if(Array.isArray(a))return a}if(window.coolMaster={},coolMaster.scripts=document.getElementsByTagName("script"),coolMaster.src=coolMaster.scripts[coolMaster.scripts.length-1].getAttribute("src"),coolMaster.prefix=coolMaster.src.substring(0,coolMaster.src.lastIndexOf("/")),0<coolMaster.prefix.length&&(coolMaster.prefix+="/"),0>coolMaster.prefix.indexOf("://")&&("/"===coolMaster.prefix.substr(0,1)?coolMaster.prefix=window.location.protocol+"//"+window.location.host+coolMaster.prefix:coolMaster.prefix=window.location.href.substring(0,window.location.href.lastIndexOf("/"))+"/"+coolMaster.prefix),coolMaster.src=window.location.href.split("?")[0].split("#")[0],coolMaster.splited=coolMaster.src.split("/"),coolMaster.last=coolMaster.splited[coolMaster.splited.length-1],""===coolMaster.last?coolMaster.page=coolMaster.src+"index":(coolMaster.last=coolMaster.splited.splice(-1)[0].split(".")[0],coolMaster.page=coolMaster.splited.join("/")+"/"+coolMaster.last),coolMaster.next=function(){coolMaster.ajaxGet=function(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.onerror=function(a){return c(a)},d.onload=function(a){return 200===a.target.status?b(a.target.response):c(a.target)},d.open("get",a,!0),d.send()})},coolMaster.loadLocal=function(a,b){a.ajaxGet(b).then(function(a){return window.coolLocals[b]=a})},coolMaster.loadStyle=function(a){var b=window.document.createElement("link");b.rel="stylesheet",b.href=a,window.document.head.appendChild(b)},coolMaster.loadStyle(coolMaster.prefix+"cool-loading.css"),coolMaster.preload=function(a,b){if(void 0!==a){b=b?b:"",a=a.includes("://")?a:b+a;var c=window.document.createElement("link");c.rel="preload",c.href=a,(a.endsWith(".js")||a.endsWith("/AppURL/GetAll"))&&(c.as="script"),a.endsWith(".css")&&(c.as="style"),a.endsWith(".woff")&&(c.as="font",c.crossOrigin="anonymous"),window.document.head.appendChild(c)}},coolMaster.preload("cool-loading.js",coolMaster.prefix),coolMaster.preloadPosts=function(a){var b=Array.from(document.getElementsByTagName("script")).filter(function(a){return"post-load"===a.getAttribute("type")});0===b.length||b.forEach(function(b){return a.preload(b.outerHTML.split("src=\"")[1].split("\"")[0],a.prefix)})},coolMaster.loadJson=function(a){return new Promise(function(b){if(a.resp)var c=setInterval(function(){if("waiting"!=a.resp)return clearInterval(c),b(a.resp)});else a.resp="waiting",a.ajaxGet(a.prefix+"cool-master.json").then(function(b){var c=JSON.parse(b);window.extraJsons&&window.extraJsons.forEach(function(b){return a.loadLocal(a,b)}),window.coolLocals&&c.locals.forEach(function(b){return a.loadLocal(a,b)}),c.styles.forEach(function(b){return a.preload(b,a.prefix)}),c.singleScripts.forEach(function(b){return a.preload(b,a.prefix)}),c.scripts.forEach(function(b){return a.preload(b,a.prefix)}),c.preloads.forEach(function(b){return a.preload(b,a.prefix)}),a.preloadPosts(a),a.preload(a.page+".js"),a.resp=c})})},coolMaster.loadJson(coolMaster),coolMaster.tag=document.createElement("style"),coolMaster.tag.id="hideAll",coolMaster.tag.innerText="body>*{visibility:hidden}",document.head.appendChild(coolMaster.tag),coolMaster.load=function(){var a=coolMaster;delete window.coolMaster;var b=function(b){return new Promise(function(c,d){if(b===void 0)return c();var e=window.document.createElement("script");e.src=b.includes("://")?b:a.prefix+b,e.onload=c,e.onerror=function(){return d()},window.document.head.appendChild(e)})},c=function(a){for(var c=b(a[0]),d=function(d){c=c["finally"](function(){return b(a[d])})},e=1;e<a.length;e++)d(e);return c},d=function(b){return new Promise(function(c,d){if(b===void 0)return c();var e=b.parentNode;e.removeChild(b);var f=document.createElement(b.nodeName),g=b.outerHTML.split("src=\"")[1].split("\"")[0];f.src=g.includes("://")?g:a.prefix+g,f.onload=c,f.onerror=d,e.appendChild(f)})},e=function(){var a=Array.from(document.getElementsByTagName("script")).filter(function(a){return"post-load"===a.getAttribute("type")});if(0===a.length)return new Promise(function(a){return a()});for(var b=d(a[0]),c=function(c){b=b["finally"](function(){return d(a[c])})},e=1;e<a.length;e++)c(e);return b};b("cool-loading.js").then(function(){return document.head.removeChild(document.getElementById("hideAll")),a.loadJson(a)}).then(function(c){return c.styles.forEach(function(b){return a.loadStyle(b.includes("://")?b:a.prefix+b)}),Promise.all([c].concat(c.singleScripts.map(function(a){return b(a)})))}).then(function(a){var b=_slicedToArray(a,1),d=b[0];return c(d.scripts)})["finally"](function(){return e()})["finally"](function(){return new Promise(function(b){if(window.coolLocals||window.extraJsons)var c=setInterval(function(){var d=a.resp.locals.length+(window.extraJsons?window.extraJsons.length:0);if(Object.keys(window.coolLocals).length==d)return clearInterval(c),b()});else b()})})["finally"](function(){return b(a.page+".js")})["finally"](function(){return coolLoading.hide()})},document.addEventListener("DOMContentLoaded",coolMaster.load)},!!window.ActiveXObject||"ActiveXObject"in window){var tag=document.createElement("script");tag.src=coolMaster.prefix+"polyfill.min.js",tag.onload=coolMaster.next,document.head.appendChild(tag)}else coolMaster.next();